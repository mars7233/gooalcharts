<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>6_折线图</title>
    <script src="../build/gooalcharts.js"></script>
</head>

<body>
    <div>
        <h1>1 线图</h1>
        <button onclick="redrawLine()">重画</button>
        <div id="groupedcurvechart"></div>

    </div>


    <script>
        // ---------------------------------------------------------------------------------------
        // --------------------------------------linechart-----------------------------------------
        // ---------------------------------------------------------------------------------------


        // 分组曲线图
        var linechartOpt = {
            "id": "hehe",
            "type": "line",
            "data": [],
            "width": 1000,
            "titleBox": {
                "show": true,
                "position": "bottom"
            },
            "legendBox": {
                "show": true,
                "position": "right"
            },
            "axisBox": {
                "xAxis": {
                    "title": "2333",
                    "type": "discrete"
                },
                "yAxis": {
                    "title": "123123"
                }
            },
            "dataBox": {
                "curve": false
            }
        }
        // linechartOpt.data = randomData(48)

        linechartOpt.data = [{ "category": "219931", "key": "CORT_1", "value": 1.31 },
        { "category": "490", "key": "CORT_1", "value": 36.22 }, 
        { "category": "51463", "key": "CORT_1", "value": 5.85 }, 
        { "category": "6536", "key": "CORT_1", "value": 39.51 }, 
        { "category": "219931", "key": "CORT_2", "value": 1.44 }, 
        { "category": "490", "key": "CORT_2", "value": 30.39 }, 
        { "category": "51463", "key": "CORT_2", "value": 4.64 }, 
        { "category": "6536", "key": "CORT_2", "value": 42.47 }, 
        { "category": "219931", "key": "CORT_3", "value": 2.92 }, 
        { "category": "490", "key": "CORT_3", "value": 59.2 }, 
        { "category": "51463", "key": "CORT_3", "value": 0 }, 
        { "category": "6536", "key": "CORT_3", "value": 39.66 }, 
        { "category": "219931", "key": "CORT_HSV_1_2", "value": 1.62 }, 
        { "category": "490", "key": "CORT_HSV_1_2", "value": 9.32 }, 
        { "category": "51463", "key": "CORT_HSV_1_2", "value": 0 }, 
        { "category": "6536", "key": "CORT_HSV_1_2", "value": 5.11 }, 
        { "category": "219931", "key": "CORT_HSV_1_1", "value": 2.11 }, 
        { "category": "490", "key": "CORT_HSV_1_1", "value": 14.11 }, 
        { "category": "51463", "key": "CORT_HSV_1_1", "value": 0.87 }, 
        { "category": "6536", "key": "CORT_HSV_1_1", "value": 1.41 }, 
        { "category": "219931", "key": "CORT_HSV_1_3", "value": 1.06 }, 
        { "category": "490", "key": "CORT_HSV_1_3", "value": 11.88 }, 
        { "category": "51463", "key": "CORT_HSV_1_3", "value": 0 }, 
        { "category": "6536", "key": "CORT_HSV_1_3", "value": 1.42 }, 
        { "category": "219931", "key": "Control_1", "value": 0.52 }, 
        { "category": "490", "key": "Control_1", "value": 60.08 }, 
        { "category": "51463", "key": "Control_1", "value": 0 }, 
        { "category": "6536", "key": "Control_1", "value": 55.8 }, 
        { "category": "219931", "key": "Control_3", "value": 0.51 }, 
        { "category": "490", "key": "Control_3", "value": 44 }, 
        { "category": "51463", "key": "Control_3", "value": 0 }, 
        { "category": "6536", "key": "Control_3", "value": 53.24 }, 
        { "category": "219931", "key": "Control_2", "value": 0.65 }, 
        { "category": "490", "key": "Control_2", "value": 51.85 }, 
        { "category": "51463", "key": "Control_2", "value": 7.5 }, 
        { "category": "6536", "key": "Control_2", "value": 48.87 }, 
        { "category": "219931", "key": "HSV_1_1", "value": 1.74 }, 
        { "category": "490", "key": "HSV_1_1", "value": 31.23 }, 
        { "category": "51463", "key": "HSV_1_1", "value": 0 }, 
        { "category": "6536", "key": "HSV_1_1", "value": 23.25 }, 
        { "category": "219931", "key": "HSV_1_2", "value": 2.89 }, 
        { "category": "490", "key": "HSV_1_2", "value": 21.83 }, 
        { "category": "51463", "key": "HSV_1_2", "value": 8.2 }, 
        { "category": "6536", "key": "HSV_1_2", "value": 24.07 }, 
        { "category": "219931", "key": "HSV_1_3", "value": 2.55 }, 
        { "category": "490", "key": "HSV_1_3", "value": 18.05 }, 
        { "category": "51463", "key": "HSV_1_3", "value": 7.13 }, 
        { "category": "6536", "key": "HSV_1_3", "value": 27.54 }]

        function randomData(samples) {
            var fake = []
            for (i = 0; i < samples; i++) {
                var newKey = i * 30 //+ "123123";
                var newValue = Math.floor(Math.random() * 300);
                var category = "123123123123" + Math.floor(Math.random() * 4);
                var tempdata = { "category": category, "key": newKey, "value": newValue }
                // var tempdata = { "key": newKey, "value": newValue }
                fake.push(tempdata);
            }
            return fake;
        }

        var linechart = new gooal.lineInit("#groupedcurvechart", linechartOpt)
        var linecharttooltip = linechart.addTooltip(linetooltipConfig);
        function linetooltipConfig(d) {
            console.log(d)
            linecharttooltip.html("x:" + d.key + "</br>" + "y: " + d.value)
        }

        function redrawLine() {
            linechart.redraw(800)
        }



    </script>
</body>

</html>